<%=form_tag( '/welcome/search', method: :get, class: 'form-search' ) do %>

    <div class="input-append">
      キーワード
      <%= text_field_tag :keyword, params['keyword'],
                         'data-provide' => "typeahead",
                         'data-source' => '["Ruby","Rails","Python","Scala","Java","PHP","C++","Perl","Objective-C","ActionScript","JavaScript","Struts","Seasar2","Spring","Hibernate","CakePHP","Symfony","CodeIgniter","FuelPHP","Django","Pylons",".NET","Unity","jQuery","Padrino","Sinatra","Catalyst"]'
      %>
      <!--- ToDo : data-sourceをDB生成する -->
      <!--- ToDo : button_to で書きたい -->
      <button type="submit" class="btn">検索</button>
    </div>

    <div class="panel-group" id="accordion">
      <div class="panel panel-default">
        <div class="panel-heading">
          <h4 class="panel-title">
            <a data-toggle="collapse" data-parent="#accordion" href="#collapseTwo">
              詳細な条件
            </a>
          </h4>
        </div>
        <div id="collapseTwo" class="panel-collapse collapse">
          <div class="panel-body">
            <div class="field">
              <label class="checkbox">
                <%
                   if false == params.key?(:keyword) or params[:qiita] == 'true'
                     check_box_tag_checked = true
                   else
                     check_box_tag_checked = false
                   end
                %>
                <%= check_box_tag :qiita, true, check_box_tag_checked, { tabindex: 1, accesskey: 'q' } %>Qiita
              </label>
            </div>
            <div class="field">
              <label class="checkbox">
                <%
                   binding.pry
                   if false == params.key?(:keyword) or params[:zussar] == 'true'
                     check_box_tag_checked = true
                   else
                     check_box_tag_checked = false
                   end
                %>
                <%= check_box_tag :zussar, true, check_box_tag_checked, { tabindex: 2, accesskey: 'z' } %>Zussar
              </label>
            </div>
            <div class="field">
              <label class="checkbox">
                <%
                   if false == params.key?(:keyword) or params[:connpass] == 'true'
                     check_box_tag_checked = true
                   else
                     check_box_tag_checked = false
                   end
                %>
                <%= check_box_tag :connpass, true, check_box_tag_checked, { tabindex: 3, accesskey: 'c' } %>Connpass
              </label>
            </div>
            <div class="field">
              <label class="checkbox">
                <%
                   if false == params.key?(:keyword) or params[:atnd] == 'true'
                     check_box_tag_checked = true
                   else
                     check_box_tag_checked = false
                   end
                %>
                <%= check_box_tag :atnd, true, check_box_tag_checked, { tabindex: 4, accesskey: 'a' } %>Atnd
              </label>
            </div>
            <div class="field">
              <label class="checkbox">
                <%
                   if false == params.key?(:keyword) or params[:doorkeeper] == 'true'
                     check_box_tag_checked = true
                   else
                     check_box_tag_checked = false
                   end
                %>
                <%= check_box_tag :doorkeeper, true, check_box_tag_checked, { tabindex: 5, accesskey: 'd' } %>Doorkeeper
              </label>
            </div>
          </div>
        </div>
      </div>
    </div>

<% end %>
